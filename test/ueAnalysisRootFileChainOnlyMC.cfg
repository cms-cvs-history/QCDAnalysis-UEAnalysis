process MBUEAnalysisRootFile= {
    
    service = TFileService { string fileName = "MBUEAnalysisRootFile.root" }

    ### keep the logging output to a nice level ###
    include "FWCore/MessageService/data/MessageLogger.cfi"
    
    untracked PSet maxEvents = {untracked int32 input = 10}
    source = PoolSource { 

        # /RelValMinBias/CMSSW_2_0_0_pre9-RelVal-1207410101-HLT/RECO
        untracked vstring fileNames = { "/store/relval/2008/4/6/RelVal-RelValMinBias-1207410101-HLT/0000/18C494D2-0B04-DD11-BF7C-000423D6B5C4.root" }
    }	

    # need to add PDTRecord in 2_0_0
    # (used to be part of RecoJets/Configuration/data/GenJetParticles.cff)
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

    include "RecoJets/Configuration/data/GenJetParticles.cff"    
    
    module goodParticles = GenParticleSelector {

        InputTag src = genParticles
        string cut = "pt > 0.0"
        bool stableOnly = true
        bool filter = false
    }

    module chargeParticles = GenParticleSelector {

        InputTag src = genParticles
        string cut = "charge != 0 & pt > 0.89"
        bool stableOnly = true
        bool filter = false
    }

   
    include "RecoJets/JetProducers/data/GenJetParameters.cfi"
    include "RecoJets/JetProducers/data/IconeJetParameters.cfi"

    module iterativeCone5GenJetsSeed10 = IterativeConeJetProducer {
        untracked string alias = "IC5GenJet"
        using IconeJetParameters
        using GenJetParameters
        double coneRadius = 0.5
    }
    replace iterativeCone5GenJetsSeed10.seedThreshold = 1.0
    replace iterativeCone5GenJetsSeed10.src = goodParticles

    module iterativeCone5ChgGenJetsSeed10 = IterativeConeJetProducer {
        untracked string alias = "IC5ChgGenJet"
        using IconeJetParameters
        using GenJetParameters
        double coneRadius = 0.5
    }
    replace iterativeCone5ChgGenJetsSeed10.seedThreshold = 1.0
    replace iterativeCone5ChgGenJetsSeed10.src = chargeParticles

    include "QCDAnalysis/UEAnalysis/data/UEAnalysisRootpleOnlyMC.cfi"

    path p1 = { genJetParticles,goodParticles,chargeParticles,
	iterativeCone5GenJetsSeed10,iterativeCone5ChgGenJetsSeed10,ueAnalysisRootple}

}
