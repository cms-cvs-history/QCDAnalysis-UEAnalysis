process MBUEAnalysisRootFile= {
    
    service = TFileService { string fileName = "MBUEAnalysisRootFile.root" }

    ### keep the logging output to a nice level ###
    include "FWCore/MessageService/data/MessageLogger.cfi"
    
    untracked PSet maxEvents = {untracked int32 input = 10}
    source = PoolSource { 

	# /RelValMinbias/CMSSW_1_8_0-RelVal-1204725336-HLT/RECO
#	untracked vstring fileNames = { "/store/relval/2008/3/6/RelVal-RelValMinbias-1204725336-HLT/0000/306136F0-8CEB-DC11-BD4C-000423D95030.root" }
        untracked vstring fileNames = { "file:/tmp/bechtel/306136F0-8CEB-DC11-BD4C-000423D95030.root"}
    }	

    include "RecoJets/Configuration/data/GenJetParticles.cff"    
    
    module firstStepParticles = GenParticleCandidateSelector {
        string src = "genParticleCandidates"
        bool stableOnly = true
        untracked bool verbose = true
    }
    
    module goodParticles = CandSelector {
        InputTag src = firstStepParticles
        string cut = "pt > 0.0"
        bool filter = false
    }
    
    module chargeParticles = CandSelector {
        InputTag src = firstStepParticles
        string cut = "charge != 0 & pt > 0.89"
        bool filter = false
    }
    
    include "RecoJets/JetProducers/data/GenJetParameters.cfi"
    include "RecoJets/JetProducers/data/IconeJetParameters.cfi"

    module iterativeCone5GenJetsSeed10 = IterativeConeJetProducer {
        untracked string alias = "IC5GenJet"
        using IconeJetParameters
        using GenJetParameters
        double coneRadius = 0.5
    }
    replace iterativeCone5GenJetsSeed10.seedThreshold = 1.0
    replace iterativeCone5GenJetsSeed10.src = goodParticles

    module iterativeCone5ChgGenJetsSeed10 = IterativeConeJetProducer {
        untracked string alias = "IC5ChgGenJet"
        using IconeJetParameters
        using GenJetParameters
        double coneRadius = 0.5
    }
    replace iterativeCone5ChgGenJetsSeed10.seedThreshold = 1.0
    replace iterativeCone5ChgGenJetsSeed10.src = chargeParticles

    include "QCDAnalysis/UEAnalysis/data/UEAnalysisRootpleOnlyMC.cfi"

    path p1 = { genJetParticles,firstStepParticles,goodParticles,chargeParticles,
	iterativeCone5GenJetsSeed10,iterativeCone5ChgGenJetsSeed10,ueAnalysisRootpleOnlyMC}

}
